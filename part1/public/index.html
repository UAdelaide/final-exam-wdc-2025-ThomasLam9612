<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <title>Express</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
    <h1>Express</h1>
    <p>Welcome to Express</p>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dog Walking Service</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body class="bg-light">

  <div id="app">
    <h1>Dog image of the day</h1>
    <img :src="dogImages" alt="Dog of the day">
    <button @click="getDog">ccc</button>
  </div>

  <!-- <script>
    const { createApp, ref, onMounnted } = Vue;
    createApp({

      data() {
        return {
          dogImages: ''
        };
      },
      methods: {
        async getDog(){
            const res =await fetch ("https://dog.ceo/api/breeds/image/random");
            console.log(res)
            const data = await res.json();
            console.log(data);
            this.dogImages = data.message
        }
      },
    }).mount('#app');
  </script> -->

  <script>
    const { createApp, ref, onMounted } = Vue;
    const dogs = ref([]);
    const dogImage = ref("")
    createApp({
      setup() {

        const message = ref('');
        const error = ref('');

        async function getPetsImages(){
          try {
            const res =await fetch ("https://dog.ceo/api/breeds/image/random");

            const data = await res.json();

            return data.message
          } catch (err) {
            error.value = 'Failed to load walk requests';
          }
        }

        async function submitWalkRequest() {
          try {
            const res = await fetch('/api/dogs');
            const result = await res.json();

            for (let dog in result) {
              dog.image = await 
            }
            if (!res.ok) throw new Error(result.error || 'Error submitting walk request');

            message.value = result.message;
            error.value = '';
            form.value = {
              dog_id: '',
              requested_time: '',
              duration_minutes: '',
              location: ''
            };
            loadWalks();
          } catch (err) {
            error.value = err.message;
            message.value = '';
          }
        }

        onMounted(() => {
          loadWalks();
          getPets();
        });

        return {
          form,
          walks,
          message,
          error,
          submitWalkRequest,
          logout,
          dogs,
          getPets
        };
      }
    }).mount('#app');
  </script>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>